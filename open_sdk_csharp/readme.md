# youzan sdk

## TODO
* [ ] 认证回调处理
* [ ] 信息推送处理
* [ ] 上传图片时10个并发请求最佳

## 商品同步

### SKU

必须设置完整的数据，例如：某T恤有两款颜色三个尺寸，那么必须有2x3条记录，如下：

```json
[{
    "price":10000, "quantity":100, "item_no":"MOYU-1",
    "skus":[{"k":"颜色","v":"红色",}, {"k":"尺寸","v":"S"}]
},{
    "price":10000, "quantity":100, "item_no":"MOYU-2",
    "skus":[{"k":"颜色","v":"红色",}, {"k":"尺寸","v":"M"}]
}],{
    "price":10000, "quantity":100, "item_no":"MOYU-3",
    "skus":[{"k":"颜色","v":"红色",}, {"k":"尺寸","v":"L"}]
},{
    "price":10000, "quantity":100, "item_no":"MOYU-4",
    "skus":[{"k":"颜色","v":"蓝色",}, {"k":"尺寸","v":"S"}]
},{
    "price":10000, "quantity":100, "item_no":"MOYU-5",
    "skus":[{"k":"颜色","v":"蓝色",}, {"k":"尺寸","v":"M"}]
}],{
    "price":10000, "quantity":100, "item_no":"MOYU-6",
    "skus":[{"k":"颜色","v":"蓝色",}, {"k":"尺寸","v":"L"}]
}]
```
> 记录不完整会报错

### 上传图片

#### 主图

有赞API上传图片的API，只支持不大于1Mb的图片文件，且并发推荐不超过10个。这就需要一个队列用于上传图片

#### SKU图片

一定要和SKU数据一起更新，否则无法更新，可以使用网络图片（但是要保证地址正确且能访问，有赞不会自动下载到他们的服务器）。

只能设置一级关联，且默认是和第一个SKU属性管理，否则会报错误：
```json
{
  "error_response": {
    "code": 121009323,
    "msg": "只支持第一级规格图片，规格图片与第一级规格参数不匹配，请修改参数",
    "sub_code": 0,
    "sub_data": null,
    "sub_msg": null
  }
}
```

### 物流

要设置了物流模板以后才能设置商品重量，并且要按SKU数量来设置，单位是克（g）。

可以设置默认克重“`ItemWeight`”，分SKU：“`SkuWeight`”（按上面的SKU示例，这里需要设置6个克重记录）
